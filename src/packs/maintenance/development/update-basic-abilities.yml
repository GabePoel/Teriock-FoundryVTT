name: Update Basic Abilities
type: script
_id: AEHBs2Fh23ulcqyb
author: teriockBuilder00
img: icons/svg/aura.svg
scope: global
command: |-
  const item = await tm.fetch.getDocument("Basic Abilities", "essentials");
  const names =
    await teriock.helpers.wiki.fetchCategoryAbilities("Basic abilities");
  const progress = ui.notifications.info(`Pulling Basic Abilities`, {
    progress: true,
  });
  await tm.resolve.ensureChildren(item, "ability", names);
  const toDelete = item.abilities
    .filter((a) => !names.includes(a.name))
    .map((a) => a.id);
  await item.deleteChildDocuments("ActiveEffect", toDelete);
  await tm.resolve.inferChildCompendiumSources(item);
  await item?.system.refreshFromCompendiumSource();
  progress.update({ pct: 1 });
folder: L08qIbjJoCwEaiEi
flags: {}
_stats:
  coreVersion: '13'
  systemId: teriock
  systemVersion: 0.1.0
  lastModifiedBy: teriockBuilder00
  compendiumSource: null
_key: '!macros!AEHBs2Fh23ulcqyb'
