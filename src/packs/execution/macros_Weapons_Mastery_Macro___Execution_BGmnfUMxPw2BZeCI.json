{
  "name": "Weapons Mastery Macro - Execution",
  "type": "script",
  "_id": "BGmnfUMxPw2BZeCI",
  "author": "qf5JYGZKzM588nE6",
  "img": "icons/svg/dice-target.svg",
  "scope": "global",
  "command": "const data = /** @type {Teriock.HookData.UseAbility} */ scope.data;\nconst ability = data.rollConfig.abilityData.parent;\nconst equipmentClass = await game.teriock.api.dialogs.selectWeaponClassDialog();\nconst changes = [\n  {\n    key: `system.equipmentChanges.overrides.classes.${equipmentClass}.av0`,\n    value: \"true\",\n    mode: 5,\n    priority: 10,\n  },\n];\nawait ability.update({\n  \"system.applies.base.changes\": changes,\n});",
  "folder": null,
  "sort": 0,
  "ownership": {
    "default": 0,
    "qf5JYGZKzM588nE6": 3
  },
  "flags": {},
  "_stats": {
    "compendiumSource": null,
    "duplicateSource": null,
    "exportSource": null,
    "coreVersion": "13.345",
    "systemId": "teriock",
    "systemVersion": "0.1.0",
    "createdTime": 1753506474254,
    "modifiedTime": 1756588324568,
    "lastModifiedBy": "Z8sCTHO0edFF1hYo"
  },
  "_key": "!macros!BGmnfUMxPw2BZeCI"
}
