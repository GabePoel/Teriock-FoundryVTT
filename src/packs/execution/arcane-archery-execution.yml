name: Arcane Archery - Execution
type: script
_id: r6Czu80rh0Puqcfz
author: teriockBuilder00
img: icons/svg/dice-target.svg
scope: global
command: |-
  const data = /** @type {Teriock.HookData.UseAbility} */ scope.data;
  const options = foundry.utils.deepClone(data.rollConfig.useData.rollOptions);
  options.noHeighten = true;
  const spellNames = [
    "Flame Ray",
    "Light Ray",
    "Empathic Ray",
    "Death Ray",
    "Lightning Ray",
    "Fire Ball",
    "Medicine Ball",
    "Treeform Ball",
    "Terror Ball",
    "Ice Ball",
  ];
  /** @type {TeriockAbility[]} */
  const spells = [];
  for (const name of spellNames) {
    const spell = await tm.fetch.getAbility(name);
    spells.push(spell);
  }
  const spell = await tm.dialogs.selectDocumentDialog(spells, {
    title: "Select Spell",
    hint: "Select a spell to cast",
  });
  options.actor = data.rollConfig.abilityData.actor;
  await spell.system.roll(options);
folder: null
ownership:
  default: 0
flags: {}
_stats:
  coreVersion: '13'
  systemId: teriock
  systemVersion: 0.1.0
  lastModifiedBy: teriockBuilder00
_key: '!macros!r6Czu80rh0Puqcfz'
