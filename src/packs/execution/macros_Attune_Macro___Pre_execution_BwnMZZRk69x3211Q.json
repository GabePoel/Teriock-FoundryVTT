{
  "name": "Attune Macro - Pre-execution",
  "type": "script",
  "_id": "BwnMZZRk69x3211Q",
  "author": "qf5JYGZKzM588nE6",
  "img": "icons/svg/dice-target.svg",
  "scope": "global",
  "command": "scope.chatData.system.buttons = [];\nconst actor = scope.abilityData.actor;\nconst equipment = actor.equipment\n  .filter((e) => !e.system.isAttuned)\n  .sort((a, b) => a.name.localeCompare(b.name));\nconst selectedEquipmentUuids = await game.teriock.api.dialog.selectDocument(\n  equipment,\n  {\n    title: \"Select Equipment\",\n    hint: \"Select equipment to attune.\",\n    multi: true,\n    tooltip: true,\n  },\n);\nfor (const uuid of selectedEquipmentUuids) {\n  const selectedEquipment = await foundry.utils.fromUuid(uuid);\n  await selectedEquipment.system.attune();\n}",
  "folder": null,
  "sort": 0,
  "ownership": {
    "default": 0,
    "qf5JYGZKzM588nE6": 3
  },
  "flags": {},
  "_stats": {
    "compendiumSource": null,
    "duplicateSource": null,
    "exportSource": null,
    "coreVersion": "13.345",
    "systemId": "teriock",
    "systemVersion": "0.1.0",
    "createdTime": 1753599358179,
    "modifiedTime": 1754856378831,
    "lastModifiedBy": "MMeF1yfOcMgtpZFS"
  },
  "_key": "!macros!BwnMZZRk69x3211Q"
}
