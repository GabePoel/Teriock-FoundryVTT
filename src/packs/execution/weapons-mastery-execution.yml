name: Weapons Mastery - Execution
type: script
_id: BGmnfUMxPw2BZeCI
author: teriockBuilder00
img: icons/svg/dice-target.svg
scope: global
command: |-
  const data = /** @type {Teriock.HookData.UseAbility} */ scope.data;
  const ability = data.execution.source;
  if (ability.isOwner && ability.actor && !ability.inCompendium) {
    const equipmentClass = await tm.dialogs.selectWeaponClassDialog();
    const changes = [
      {
        key: `!equipment__system.equipmentClasses__has__${equipmentClass}__system.piercing.av0`,
        value: "true",
        mode: 5,
        priority: 10,
      },
    ];
    await ability.update({
      "system.impacts.base.changes": changes,
    });
  }
ownership:
  default: 0
flags: {}
_stats:
  coreVersion: '13'
  systemId: teriock
  systemVersion: 0.1.0
  lastModifiedBy: teriockBuilder00
  compendiumSource: null
_key: '!macros!BGmnfUMxPw2BZeCI'
