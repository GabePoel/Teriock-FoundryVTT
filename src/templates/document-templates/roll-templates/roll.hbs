<div
  class="teriock dice-roll"
  data-action="expandRoll"
>
  {{#if flavor}}
    <div class="teriock-flavor-text">{{flavor}}</div>
  {{/if}}
  <div
    class="dice-result"
    {{#if (exists targetUuid)}}
    data-uuid="{{targetUuid}}"
    {{/if}}
    {{#if (exists targetName)}}
    data-name="{{targetName}}"
    {{/if}}
    data-tooltip-direction="LEFT"
  >
    {{#if (or (exists targetImg) (exists targetName))}}
      <div class="teriock-target-container dice-formula" data-tooltip="Select Target"
        {{#if (exists noDice)}}style="margin-bottom: 0;" {{/if}} {{#if
        (exists targetUuid)}}data-uuid="{{targetUuid}}"{{/if}}>
        {{#if (exists targetImg)}}
          <div class="teriock-target-img"
               {{#if (exists targetUuid)}}data-uuid="{{targetUuid}}"{{/if}} data-action="selectTarget">
            <img src="{{targetImg}}" alt="{{targetName}}">
          </div>
        {{/if}}
        {{#if (exists targetName)}}
          <h6 class="teriock-target-name">{{targetName}}</h6>
        {{/if}}
      </div>
    {{/if}}
    {{#if (not (exists noDice))}}
      <div
        class="dice-formula teriock-dice-formula {{#if diceClass}}{{diceClass}}{{/if}}"
        style="word-break: auto-phrase;"
        {{#if diceTooltip}}
        data-tooltip="{{diceTooltip}}"
        {{/if}}
      >
        {{formula}}
      </div>
      {{{tooltip}}}
      <h4
        class="dice-total teriock-dice-total {{#if (exists threshold)}}{{#if
          (geq total threshold)}}success{{else}}failure{{/if}}{{/if}} {{#if totalClass}}{{totalClass}}{{/if}}"
        {{#if (exists threshold)}}
        data-tooltip="{{#if (geq total threshold)}}Success{{else}}Failure{{/if}}"
        {{/if}}
      >{{total}}</h4>
    {{/if}}
  </div>
</div>
