@use "../../mixins";

.character-intro-box {
  align-items: center;
  display: flex;
  flex-direction: column;
  --shadow-icon-width: 72px;
  justify-content: center;
  position: relative;

  .character-avatar {
    border-radius: 6px;
    cursor: pointer;
    height: 220px;
    outline: 1px solid var(--color-border);
    overflow: hidden;
    position: relative;
    width: 220px;

    &::after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      border-radius: inherit;
      pointer-events: none;
      box-shadow: inset 0 0 10px var(--color-dark-2);
      z-index: 1;
    }

    img {
      @include mixins.image-position;
      border: none;
      height: inherit;
      max-width: 100%;
      width: inherit;
    }

    .character-avatar-background {
      @include mixins.warm-image-background;
      align-items: center;
      display: flex;
      height: 100%;
      justify-content: center;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
      z-index: -1;

      .character-avatar-token-circle {
        border: 1px solid var(--color-border);
        border-radius: 50%;
        position: absolute;

        &.inner {
          height: calc(66.7% + 2px);
          width: calc(66.7% + 2px);
          @include mixins.warm-image-background;
        }

        &.outer {
          height: calc(66.7% + 12px);
          width: calc(66.7% + 12px);
        }
      }
    }

    .character-avatar-shadow {
      border-top-right-radius: 6px;
      display: flex;
      height: var(--shadow-icon-width);
      opacity: 0;
      overflow: hidden;
      position: absolute;
      right: 0;
      top: 0;
      transition: opacity 150ms ease-in-out;
      width: var(--shadow-icon-width);

      .character-avatar-buttons {
        display: flex;
        flex-direction: row;
        gap: 0.25em;
      }

      &::before {
        background: radial-gradient(
          circle at calc(100% - 1.25em) 1em,
          rgba(0, 0, 0, 0.75),
          transparent calc(var(--shadow-icon-width) - 1.25em)
        );
        border-top-right-radius: 6px;
        content: "";
        inset: 0;
        position: absolute;
      }
    }

    &:hover .character-avatar-shadow {
      opacity: 1;
    }

    &.ring {
      outline: none;

      &::after {
        box-shadow: none;
      }

      .character-avatar-background {
        background: none;
      }

      .character-avatar-shadow {
        &::before {
          background: none;
        }
      }
    }
  }

  .character-name {
    margin-top: 1px;
    width: calc(100% - 2em);

    .character-name-text {
      background-color: var(--color-cool-5);
      border: 1px solid var(--color-text-subtle);
      border-radius: 6px;
      color: var(--color-text-primary);
      font-family: var(--font-h4), serif;
      font-size: var(--font-h4-size);
      text-align: center;
    }

    &:not(.ring) {
      .character-name-text {
        padding-top: 1px;
        border-radius: 0 0 6px 6px;
        border-top: none;
      }
    }
  }

  .character-basics {
    display: flex;
    flex-direction: row;
    margin-top: 0.5em;
  }
}
